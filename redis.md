### Redis简介
1. Redis是什么，为什么大小公司都在用Redis    微信（微信红包）、微博、淘宝、天猫、京东、唯品会
2. 简介：从我们熟知的Mysql入手讲解Redis，为什么要用redis
  1. 讲到redis不得不讲nosql 
    - NoSQL是不同于传统的关系数据库的数据库管理系统的统称。其两者最重要的区别是NoSQL不使用SQL作为查询语言。
    - NoSQL数据存储可以不需要固定的表格模式。NoSQL是基于键值对(key-value)的，可以想象成表中的主键和值的对应关系。
    - NoSQL：redis、memcached、mongodb、guava（loadingCache） 
  2. redis的定义：
    - Redis 是一个开源（BSD许可）的，内存中的数据结构存储系统，它可以用作数据库、缓存和消息中间件。 它支持多种类型的数据结构，如 字符串（strings）、散列（hashes）、 列表（lists）、 集合（sets）、 有序集合（sorted sets）等。
  3. 从大家熟知的mysql出发来认识redis
    1. 概念：关系型数据库的一个常见用法是存储长期的报告数据，并将这些报告数据用作固定时间范围内的聚合数据。收集聚合数据的常见做法是：先将各个行插入一个报告表里面， 之后再通过扫描这些行来收集聚合数据，并更新聚合表中巳有的那些行。

### Redis和memcached和mysql
1. 剖析Redis和memcached和mysql之间的区别
  1. 分析三者的区别和为什么越来越多的人抛弃memcached选择redis；从数据库类型、数据存储方式、特殊功能讲解Redis和memcached和mysql的区别
  2. 作为同款功能的内存缓存产品，redis和memcached各有什么优势
    - 内存管理机制
        - Memcached默认使用Slab Allocation机制管理内存，其主要思想是按照预先规定的大小，将分配的内存分割成特定长度的块  以存储相应长度的key-value数据记录，以完全解决内存碎片问题。空闲列表进行判断存储状态
        - **【类似于Java虚拟机对象的分配，空闲列表】**
        - Redis使用现场申请内存的方式来存储数据，并且很少使用free-list等方式来优化内存分配，会在一定程度上存在内存碎片
        - **【CPU内存是连续，类似于Java虚拟机对象的分配，直接内存分配（指针碰撞）】**
    - 数据持久化方案
      - memcached不支持内存数据的持久化操作，所有的数据都以in-memory的形式存储。
      - redis支持持久化操作。redis提供了两种不同的持久化方法来讲数据存储到硬盘里面，第一种是rdb形式，一种是aof形式——rdb：属于全量数据备份，备份的是数据aof：append only if,增量持久化备份，备份的是指令[如：set key， del key]
    - 缓存数据过期机制  key，在一个小时之后过期，超过一个小时查数据就会查不到  key:"1",value:"2" ；Memcached 在删除失效主键时也是采用的消极方法，即 Memcached 内部也不会监视主键是否失效，而是在通过Get访问主键时才会检查其是否已经失效；Redis 定时、定期等多种缓存失效机制，减少内存泄漏
  3. 支持的数据类型
  1. Memcached支持单一数据类型,[k,v]
  2. redis支持五种数据类型   

### redis作为数据库的使用有什么优缺点
1. 优点：没有Scheme约束，数据结构的变更相对容易，一开始确定数据类型，抗压能力强，性能极高，10万/qps
2. 缺点：没有索引，没有外键，缺少int/date等基本数据类型，多条件查询需要通过集合内联(sinter,zinterstore)和连接间接实现开发效率低，可维护性不佳

### Redis缓存和直接使用内存的比较
1. Redis是一个远程数据结构服务器。它肯定比将数据存储在本地内存中要慢（因为它涉及套接字往返存取数据）。但是，它也带来了一些有趣的属性：
2. Redis可以被应用程序的所有进程访问，可能运行在多个节点上（本地内存无法实现）。Redis内存存储非常高效，并在单独的过程中完成。如果应用程序在内存被垃圾收集的平台上运行（node.js，java等），它允许处理更大的内存缓存/存储。在实践中，非常大的堆用垃圾收集语言表现不佳。
3. 如果需要，Redis可以将数据保存在磁盘上。
4. Redis不仅仅是一个简单的缓存：它提供了各种数据结构，各种项目驱逐策略，阻塞队列，pub / sub，原子性，Lua脚本等等。
5. Redis可以使用主/从机制来复制其活动，以实现高可用性。
6. 基本上，如果需要你的应用程序在共享相同数据的多个节点上进行扩展，则需要类似Redis（或任何其他远程键/值存储）。

### redis有哪些特性？
1. 丰富的数据类型
2. 可用于缓存，消息按key设置过期时间，过期后自动删除   setex  set expire时间
3. 支持持久化方式rdb和aof
4. 主从分布式，redis支持主从支持读写分离 redis cluster，动态扩容方式







